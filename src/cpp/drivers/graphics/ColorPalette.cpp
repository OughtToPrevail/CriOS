#include "ColorPalette.h"

// Based on: https://lospec.com/palette-list/windows-95-256-colours
const VGAColor ColorPalette::_colorPalette[COLOR_COUNT] = {
		VGAColor(0, 0, 0, 0),
		VGAColor(1, 31, 0, 0),
		VGAColor(2, 0, 31, 0),
		VGAColor(3, 31, 31, 0),
		VGAColor(4, 0, 0, 31),
		VGAColor(5, 31, 0, 31),
		VGAColor(6, 0, 31, 31),
		VGAColor(7, 47, 47, 47),
		VGAColor(8, 47, 54, 47),
		VGAColor(9, 41, 49, 59),
		VGAColor(10, 10, 15, 42),
		VGAColor(11, 10, 15, 63),
		VGAColor(12, 10, 23, 0),
		VGAColor(13, 10, 23, 21),
		VGAColor(14, 10, 23, 42),
		VGAColor(15, 10, 23, 63),
		VGAColor(16, 10, 31, 0),
		VGAColor(17, 10, 31, 21),
		VGAColor(18, 10, 31, 42),
		VGAColor(19, 10, 31, 63),
		VGAColor(20, 10, 39, 0),
		VGAColor(21, 10, 39, 21),
		VGAColor(22, 10, 39, 42),
		VGAColor(23, 10, 39, 63),
		VGAColor(24, 10, 47, 0),
		VGAColor(25, 10, 47, 21),
		VGAColor(26, 10, 47, 42),
		VGAColor(27, 10, 47, 63),
		VGAColor(28, 10, 55, 0),
		VGAColor(29, 10, 55, 21),
		VGAColor(30, 10, 55, 42),
		VGAColor(31, 10, 55, 63),
		VGAColor(32, 10, 63, 0),
		VGAColor(33, 10, 63, 21),
		VGAColor(34, 10, 63, 42),
		VGAColor(35, 10, 63, 63),
		VGAColor(36, 21, 0, 0),
		VGAColor(37, 21, 0, 21),
		VGAColor(38, 21, 0, 42),
		VGAColor(39, 21, 0, 63),
		VGAColor(40, 21, 7, 0),
		VGAColor(41, 21, 7, 21),
		VGAColor(42, 21, 7, 42),
		VGAColor(43, 21, 7, 63),
		VGAColor(44, 21, 15, 0),
		VGAColor(45, 21, 15, 21),
		VGAColor(46, 21, 15, 42),
		VGAColor(47, 21, 15, 63),
		VGAColor(48, 21, 23, 0),
		VGAColor(49, 21, 23, 21),
		VGAColor(50, 21, 23, 42),
		VGAColor(51, 21, 23, 63),
		VGAColor(52, 21, 31, 0),
		VGAColor(53, 21, 31, 21),
		VGAColor(54, 21, 31, 42),
		VGAColor(55, 21, 31, 63),
		VGAColor(56, 21, 39, 0),
		VGAColor(57, 21, 39, 21),
		VGAColor(58, 21, 39, 42),
		VGAColor(59, 21, 39, 63),
		VGAColor(60, 21, 47, 0),
		VGAColor(61, 21, 47, 21),
		VGAColor(62, 21, 47, 42),
		VGAColor(63, 21, 47, 63),
		VGAColor(64, 21, 55, 0),
		VGAColor(65, 21, 55, 21),
		VGAColor(66, 21, 55, 42),
		VGAColor(67, 21, 55, 63),
		VGAColor(68, 21, 63, 0),
		VGAColor(69, 21, 63, 21),
		VGAColor(70, 21, 63, 42),
		VGAColor(71, 21, 63, 63),
		VGAColor(72, 31, 0, 0),
		VGAColor(73, 31, 0, 21),
		VGAColor(74, 31, 0, 42),
		VGAColor(75, 31, 0, 63),
		VGAColor(76, 31, 7, 0),
		VGAColor(77, 31, 7, 21),
		VGAColor(78, 31, 7, 42),
		VGAColor(79, 31, 7, 63),
		VGAColor(80, 31, 15, 0),
		VGAColor(81, 31, 15, 21),
		VGAColor(82, 31, 15, 42),
		VGAColor(83, 31, 15, 63),
		VGAColor(84, 31, 23, 0),
		VGAColor(85, 31, 23, 21),
		VGAColor(86, 31, 23, 42),
		VGAColor(87, 31, 23, 63),
		VGAColor(88, 31, 31, 0),
		VGAColor(89, 31, 31, 21),
		VGAColor(90, 31, 31, 42),
		VGAColor(91, 31, 31, 63),
		VGAColor(92, 31, 39, 0),
		VGAColor(93, 31, 39, 21),
		VGAColor(94, 31, 39, 42),
		VGAColor(95, 31, 39, 63),
		VGAColor(96, 31, 47, 0),
		VGAColor(97, 31, 47, 21),
		VGAColor(98, 31, 47, 42),
		VGAColor(99, 31, 47, 63),
		VGAColor(100, 31, 55, 0),
		VGAColor(101, 31, 55, 21),
		VGAColor(102, 31, 55, 42),
		VGAColor(103, 31, 55, 63),
		VGAColor(104, 31, 63, 0),
		VGAColor(105, 31, 63, 21),
		VGAColor(106, 31, 63, 42),
		VGAColor(107, 31, 63, 63),
		VGAColor(108, 42, 0, 0),
		VGAColor(109, 42, 0, 21),
		VGAColor(110, 42, 0, 42),
		VGAColor(111, 42, 0, 63),
		VGAColor(112, 42, 7, 0),
		VGAColor(113, 42, 7, 21),
		VGAColor(114, 42, 7, 42),
		VGAColor(115, 42, 7, 63),
		VGAColor(116, 42, 15, 0),
		VGAColor(117, 42, 15, 21),
		VGAColor(118, 42, 15, 42),
		VGAColor(119, 42, 15, 63),
		VGAColor(120, 42, 23, 0),
		VGAColor(121, 42, 23, 21),
		VGAColor(122, 42, 23, 42),
		VGAColor(123, 42, 23, 63),
		VGAColor(124, 42, 31, 0),
		VGAColor(125, 42, 31, 21),
		VGAColor(126, 42, 31, 42),
		VGAColor(127, 42, 31, 63),
		VGAColor(128, 42, 39, 0),
		VGAColor(129, 42, 39, 21),
		VGAColor(130, 42, 39, 42),
		VGAColor(131, 42, 39, 63),
		VGAColor(132, 42, 47, 0),
		VGAColor(133, 42, 47, 21),
		VGAColor(134, 42, 47, 42),
		VGAColor(135, 42, 47, 63),
		VGAColor(136, 42, 55, 0),
		VGAColor(137, 42, 55, 21),
		VGAColor(138, 42, 55, 42),
		VGAColor(139, 42, 55, 63),
		VGAColor(140, 42, 63, 0),
		VGAColor(141, 42, 63, 21),
		VGAColor(142, 42, 63, 42),
		VGAColor(143, 42, 63, 63),
		VGAColor(144, 52, 0, 0),
		VGAColor(145, 52, 0, 21),
		VGAColor(146, 52, 0, 42),
		VGAColor(147, 52, 0, 63),
		VGAColor(148, 52, 7, 0),
		VGAColor(149, 52, 7, 21),
		VGAColor(150, 52, 7, 42),
		VGAColor(151, 52, 7, 63),
		VGAColor(152, 52, 15, 0),
		VGAColor(153, 52, 15, 21),
		VGAColor(154, 52, 15, 42),
		VGAColor(155, 52, 15, 63),
		VGAColor(156, 52, 23, 0),
		VGAColor(157, 52, 23, 21),
		VGAColor(158, 52, 23, 42),
		VGAColor(159, 52, 23, 63),
		VGAColor(160, 52, 31, 0),
		VGAColor(161, 52, 31, 21),
		VGAColor(162, 52, 31, 42),
		VGAColor(163, 52, 31, 63),
		VGAColor(164, 52, 39, 0),
		VGAColor(165, 52, 39, 21),
		VGAColor(166, 52, 39, 42),
		VGAColor(167, 52, 39, 63),
		VGAColor(168, 52, 47, 0),
		VGAColor(169, 52, 47, 21),
		VGAColor(170, 52, 47, 42),
		VGAColor(171, 52, 47, 63),
		VGAColor(172, 52, 55, 0),
		VGAColor(173, 52, 55, 21),
		VGAColor(174, 52, 55, 42),
		VGAColor(175, 52, 55, 63),
		VGAColor(176, 52, 63, 0),
		VGAColor(177, 52, 63, 21),
		VGAColor(178, 52, 63, 42),
		VGAColor(179, 52, 63, 63),
		VGAColor(180, 63, 0, 21),
		VGAColor(181, 63, 0, 42),
		VGAColor(182, 63, 7, 0),
		VGAColor(183, 63, 7, 21),
		VGAColor(184, 63, 7, 42),
		VGAColor(185, 63, 7, 63),
		VGAColor(186, 63, 15, 0),
		VGAColor(187, 63, 15, 21),
		VGAColor(188, 63, 15, 42),
		VGAColor(189, 63, 15, 63),
		VGAColor(190, 63, 23, 0),
		VGAColor(191, 63, 23, 21),
		VGAColor(192, 63, 23, 42),
		VGAColor(193, 63, 23, 63),
		VGAColor(194, 63, 31, 0),
		VGAColor(195, 63, 31, 21),
		VGAColor(196, 63, 31, 42),
		VGAColor(197, 63, 31, 63),
		VGAColor(198, 63, 39, 0),
		VGAColor(199, 63, 39, 21),
		VGAColor(200, 63, 39, 42),
		VGAColor(201, 63, 39, 63),
		VGAColor(202, 63, 47, 0),
		VGAColor(203, 63, 47, 21),
		VGAColor(204, 63, 47, 42),
		VGAColor(205, 63, 47, 63),
		VGAColor(206, 63, 55, 0),
		VGAColor(207, 63, 55, 21),
		VGAColor(208, 63, 55, 42),
		VGAColor(209, 63, 55, 63),
		VGAColor(210, 63, 63, 21),
		VGAColor(211, 63, 63, 42),
		VGAColor(212, 63, 50, 63),
		VGAColor(213, 12, 63, 63),
		VGAColor(214, 25, 63, 63),
		VGAColor(215, 37, 63, 63),
		VGAColor(216, 50, 63, 63),
		VGAColor(217, 0, 16, 0),
		VGAColor(218, 0, 16, 21),
		VGAColor(219, 0, 16, 42),
		VGAColor(220, 0, 16, 63),
		VGAColor(221, 0, 39, 0),
		VGAColor(222, 0, 39, 21),
		VGAColor(223, 0, 39, 42),
		VGAColor(224, 0, 39, 63),
		VGAColor(225, 0, 47, 0),
		VGAColor(226, 0, 47, 21),
		VGAColor(227, 0, 47, 42),
		VGAColor(228, 0, 47, 63),
		VGAColor(229, 0, 55, 0),
		VGAColor(230, 0, 55, 21),
		VGAColor(231, 0, 55, 42),
		VGAColor(232, 0, 55, 63),
		VGAColor(233, 0, 63, 21),
		VGAColor(234, 0, 63, 42),
		VGAColor(235, 10, 0, 0),
		VGAColor(236, 10, 0, 21),
		VGAColor(237, 10, 0, 42),
		VGAColor(238, 10, 0, 63),
		VGAColor(239, 10, 7, 0),
		VGAColor(240, 10, 7, 21),
		VGAColor(241, 10, 7, 42),
		VGAColor(242, 10, 7, 63),
		VGAColor(243, 10, 15, 0),
		VGAColor(244, 10, 15, 21),
		VGAColor(245, 63, 62, 59),
		VGAColor(246, 39, 39, 40),
		VGAColor(247, 31, 31, 31),
		VGAColor(248, 63, 0, 0),
		VGAColor(249, 0, 63, 0),
		VGAColor(250, 63, 63, 0),
		VGAColor(251, 0, 0, 63),
		VGAColor(252, 63, 0, 63),
		VGAColor(253, 0, 63, 63),
		VGAColor(254, 63, 63, 63),
		VGAColor(TRANSPARENT_INDEX, 63, 63, 63)  // technically another white color, but acts as a reserved for images so when the index of the color is transferred it can be as between 0-255 with 255 (this color) signifying transparent
};

const VGAColor* ColorPalette::getColorPalette()
{
	return ColorPalette::_colorPalette;
}

const VGAColor& ColorPalette::fitPalette(const VGAColor& color)
{
	int leastDiff = 0;
	for(int i = 0; i < COLOR_COUNT; i++)
	{
		if(ColorPalette::_colorPalette[i].distance(color) < ColorPalette::_colorPalette[leastDiff].distance(color))
		{
			leastDiff = i;
		}
	}
	return ColorPalette::_colorPalette[leastDiff];
}

const VGAColor& ColorPalette::transparent()
{
	return ColorPalette::_colorPalette[TRANSPARENT_INDEX];
}
